<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#0B1311" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>VIRAL LINK ‚Äî Arcade</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Portrait only -->
  <div id="rotateOverlay" aria-hidden="true">
    <div class="rotateCard">
      <div class="rotateIcon">‚Üª</div>
      <div class="rotateTitle">–¢–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ</div>
      <div class="rotateText">–ü–æ–≤–µ—Ä–Ω–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –æ–±—Ä–∞—Ç–Ω–æ. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∫–∏ –Ω–µ—Ç.</div>
    </div>
  </div>

  <div class="bg">
    <div class="bgGlow g1"></div>
    <div class="bgGlow g2"></div>
    <div class="bgGlow g3"></div>
    <div class="grain"></div>
    <div class="scan"></div>
  </div>

  <main class="app" role="application">
    <canvas id="cv"></canvas>

    <!-- HUD -->
    <div class="hud">
      <div class="hudLeft">
        <div class="pill">
          <span class="pillDot"></span>
          <span id="hudMode">MENU</span>
        </div>
        <div class="hudMini">
          <div class="k">CASE</div>
          <div id="hudCase" class="v mono">‚Äî</div>
        </div>
      </div>

      <div class="hudCenter">
        <div class="hudTitle">VIRAL LINK</div>
        <div id="hudRank" class="hudRank">Rookie</div>
      </div>

      <div class="hudRight">
        <div class="hudMini">
          <div class="k">TIME</div>
          <div id="hudTime" class="v mono">45.0</div>
        </div>
        <div class="hudMini">
          <div class="k">SCORE</div>
          <div id="hudScore" class="v mono">0</div>
        </div>
      </div>
    </div>

    <!-- Load -->
    <div class="load">
      <div class="loadTop">
        <div class="loadLabel">VIRAL LOAD</div>
        <div id="loadPct" class="mono">0%</div>
      </div>
      <div class="bar">
        <div id="barFill" class="barFill"></div>
        <div class="barShine"></div>
      </div>
    </div>

    <!-- MENU OVERLAY -->
    <section id="menu" class="overlay show" aria-label="Menu">
      <div class="card">
        <div class="rowTop">
          <div class="logo">‚ò£</div>
          <div class="rowTopText">
            <div class="brand">VIRAL LINK</div>
            <div class="sub">Mobile arcade ¬∑ Virtual infection experiment</div>
          </div>
          <button id="btnSound" class="chip" type="button">SOUND: ON</button>
        </div>

        <!-- Intro video (centered, 16:9) -->
        <div id="introWrap" class="introWrap">
          <div class="introFrame">
            <video id="introVideo" class="introVideo" playsinline muted loop preload="metadata"
              poster="assets/intro-poster.jpg">
              <source src="assets/intro.mp4" type="video/mp4" />
            </video>
            <div class="introOverlay">
              <div class="introBadge">INTRO</div>
              <button id="btnIntro" class="introBtn" type="button">PLAY</button>
              <div class="introHint">–í–∏–¥–µ–æ 16:9 –ø–æ —Ü–µ–Ω—Ç—Ä—É (–∫–∞–∫ YouTube). –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª–æ–º.</div>
            </div>
          </div>
        </div>

        <h1 class="title">–°–æ–±–∏—Ä–∞–π —Å—ã–≤–æ—Ä–æ—Ç–∫—É. –í–∫–ª—é—á–∞–π Fever. –õ–æ–º–∞–π —Ä–µ–∫–æ—Ä–¥—ã.</h1>
        <p class="desc">
          –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: <b>–¥–≤–∏–≥–∞–π –ø–∞–ª—å—Ü–µ–º</b> –≤–∏—Ä—É—Å-—è–¥—Ä–æ. –õ–æ–≤–∏ <span class="good">VIAL</span>, –∏–∑–±–µ–≥–∞–π <span class="bad">ANTIDOTE</span>.
          –ù–∞–±–µ—Ä–∏ <b>100% LOAD</b> ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è <b>Share</b> (—Å—Å—ã–ª–∫–∞ –Ω–µ—Å—ë—Ç –ª–∏–¥–µ—Ä–±–æ—Ä–¥ —Ü–µ–ø–æ—á–∫–∏).
        </p>

        <div class="grid2">
          <div class="infoBox">
            <div class="k">–¢–≤–æ–π ID</div>
            <div id="myId" class="v mono">‚Äî</div>
          </div>
          <div class="infoBox">
            <div class="k">–ó–∞—Ä–∞–∂–µ–Ω –æ—Ç</div>
            <div id="fromId" class="v mono">PATIENT ZERO</div>
          </div>
          <div class="infoBox">
            <div class="k">–¶–µ–ø–æ—á–∫–∞</div>
            <div id="chainLen" class="v mono">‚Äî</div>
          </div>
          <div class="infoBox">
            <div class="k">Best</div>
            <div id="bestScore" class="v mono">0</div>
          </div>
        </div>

        <div class="btnRow">
          <button id="btnJoin" class="btn ghost" type="button">GET INFECTION ID</button>
          <button id="btnPlay" class="btn primary" type="button">PLAY</button>
        </div>

        <div class="btnRow">
          <button id="btnLeaders" class="btn" type="button">LEADERBOARD</button>
          <button id="btnHow" class="btn" type="button">HOW TO PLAY</button>
        </div>

        <div class="tiny dim">
          –ë–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞: —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –∂–∏–≤—ë—Ç –≤ —Å—Å—ã–ª–∫–µ. –ß–µ–º –¥–∞–ª—å—à–µ —à–∞—Ä—è—Ç ‚Äî —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥.
        </div>
      </div>
    </section>

    <!-- HOW -->
    <section id="how" class="overlay" aria-label="How">
      <div class="card">
        <div class="big">HOW TO PLAY</div>
        <div class="desc">
          1) –î–≤–∏–≥–∞–π —è–¥—Ä–æ –ø–∞–ª—å—Ü–µ–º (–æ–Ω–æ –ª–∏–ø–Ω–µ—Ç –∫ –ø–∞–ª—å—Ü—É —Å —Ñ–∏–∑–∏–∫–æ–π).<br/>
          2) –õ–æ–≤–∏ <span class="good">–∑–µ–ª—ë–Ω—ã–µ VIAL</span> ‚Üí +LOAD +SCORE +combo.<br/>
          3) –£–∫–ª–æ–Ω—è–π—Å—è –æ—Ç <span class="bad">–∫—Ä–∞—Å–Ω—ã—Ö ANTIDOTE</span> ‚Üí ‚àíLOAD, —Å–±—Ä–æ—Å –∫–æ–º–±–æ, —à–æ–∫/–≤–∏–±—Ä–æ.<br/>
          4) –ü—Ä–∏ 100% –≤–∫–ª—é—á–∞–µ—Ç—Å—è <b>FEVER</b>: x2 score, –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∞–¥, —á–∞—Å—Ç–∏—Ü –≤ 10 —Ä–∞–∑ –±–æ–ª—å—à–µ.<br/>
          5) –ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã –∂–º–∏ <b>SHARE</b> ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–µ—Å—ë—Ç —Ç–≤–æ–π best –∏ —Å—Ç—Ä–æ–∏—Ç —Ç–æ–ø —Ü–µ–ø–æ—á–∫–∏.
        </div>
        <div class="btnRow">
          <button id="btnHowBack" class="btn primary" type="button">OK</button>
        </div>
      </div>
    </section>

    <!-- LEADERBOARD -->
    <section id="leaders" class="overlay" aria-label="Leaderboard">
      <div class="card">
        <div class="rowTop">
          <div class="logo">üèÜ</div>
          <div class="rowTopText">
            <div class="brand">CHAIN LEADERBOARD</div>
            <div class="sub">–¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –≤ —ç—Ç–æ–π –≤–∏—Ä—É—Å–Ω–æ–π —Ü–µ–ø–æ—á–∫–µ</div>
          </div>
          <button id="btnLeadersBack" class="chip" type="button">CLOSE</button>
        </div>

        <div class="tabs">
          <button id="tabChain" class="tab on" type="button">CHAIN TOP</button>
          <button id="tabLocal" class="tab" type="button">LOCAL</button>
        </div>

        <div id="listChain" class="list"></div>
        <div id="listLocal" class="list hidden"></div>

        <div class="btnRow">
          <button id="btnCopyBoard" class="btn" type="button">COPY BOARD</button>
          <button id="btnReset" class="btn danger" type="button">RESET</button>
        </div>
      </div>
    </section>

    <!-- RESULT -->
    <section id="result" class="overlay" aria-label="Result">
      <div class="card">
        <div id="resultTitle" class="big">UNLOCKED ‚ò£</div>
        <div id="resultDesc" class="desc">–¢—ã –Ω–∞–±—Ä–∞–ª 100%. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—à—å –∑–∞—Ä–∞–∑–∏—Ç—å —Å—Å—ã–ª–∫–æ–π.</div>

        <div class="grid2">
          <div class="infoBox">
            <div class="k">SCORE</div>
            <div id="resScore" class="v mono">0</div>
          </div>
          <div class="infoBox">
            <div class="k">RANK</div>
            <div id="resRank" class="v mono">Rookie</div>
          </div>
          <div class="infoBox">
            <div class="k">BEST</div>
            <div id="resBest" class="v mono">0</div>
          </div>
          <div class="infoBox">
            <div class="k">LOAD</div>
            <div id="resLoad" class="v mono">0%</div>
          </div>
        </div>

        <div class="btnRow" id="shareRow">
          <button id="btnShare" class="btn primary" type="button">SHARE</button>
          <button id="btnCopy" class="btn" type="button">COPY LINK</button>
        </div>

        <div class="btnRow">
          <button id="btnAgain" class="btn ghost" type="button">PLAY AGAIN</button>
          <button id="btnMenu" class="btn" type="button">MENU</button>
        </div>
      </div>
    </section>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>
  </main>

  <script defer src="game.js"></script>
</body>
</html>
